<head>
  <title>Sumget</title>
</head>

<body>
	
  <div id="outer">		
		{{> newBoxButton }}
		
		{{> boxContainer }}
		
		{{> board }}
  </div>
</body>

<template name="board">
  <div class="board">
    {{#constant}}
      <svg width="1024" height="1024">
        <rect class="box" x=-100 y=-100></rect>
        <rect class="item" x=-100 y=-100></rect>
        <g class="boxZone"></g>
        <g class="labels"></g>
      </svg>
    {{/constant}}
  </div>
</template>

<template name="boxContainer">
  {{#if showCreateDialog}}
    {{> createDialog}}
  {{/if}}
	
  <div style="float: right">	
		{{loginButtons align="right"}}
	</div>
		
	
	<div class="boxContainer">
	  {{#each boxes}}
			{{! The box template object's methods will be executed in such a context
				that all of the Box model's properties, like _id and description, will 
				be available via this. Not sure why yet.
			}}
			{{> box }}
		{{/each}}	
	</div>
</template>

<template name="box">

  <div class="box">
    {{#each items}}
      {{> item}}
    {{/each}}
    <div id="new-item-box">
      <input type="text" class="title" placeholder="New item" />
      <input type="text" class="description" placeholder="" />
      <input type="text" class="score" placeholder="0" />
	    <input type="button" class="add-new-item" value="Add to box" />
    </div>
		
	  <div class="sumcontainer">Sum:  
		  <span id="sum">{{sum}}</span>
	  </div>
		
  </div>

</template>

<template name="item">
  <div class="item {{selected}}">
    <label class="name">{{title}}</label>
    <input class="score" size="3" value ={{score}}></input>
  </div>
</template>

<template name="createDialog">
  <div class="mask"> </div>
  <div class="modal">
    <div class="modal-header">
      <button type="button" class="close cancel">&times;</button>
      <h3>Add box</h3>
    </div>

    <div class="modal-body">
      {{#if error}}
        <div class="alert alert-error">{{error}}</div>
      {{/if}}

      <label>Title</label>
      <input type="text" class="title span5">

      <label>Description</label>
      <textarea class="description span5"></textarea>
    </div>

    <div class="modal-footer">
      <a href="#" class="btn cancel">Cancel</a>
      <a href="#" class="btn btn-primary save">Add Box</a>
    </div>
  </div>
</template>

<template name="newBoxButton">
	<div>
		<button type="button" class="close cancel">New Box</button>
	</div>
</template>
